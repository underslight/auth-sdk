import t from"axios";var n;!function(t){t.UserNotFound="USER_NOT_FOUND"}(n||(n={}));var e,r,i=function(n){this.client=void 0,this.client=t.create({withCredentials:!0,baseURL:n.domain})},o=/*#__PURE__*/function(){function t(t){this.config=void 0,this.client=void 0,this.config=t,this.client=new i(this.config)}var n=t.prototype;return n.authenticate=function(t){return t.authenticate(this.client)},n.register=function(t){return t.register(this.client)},t}(),c=/*#__PURE__*/function(){function t(t){var n=t.id,e=t.attributes,r=t.metadata;this.id=void 0,this.attributes=void 0,this.metadata=void 0,this.id=n,this.attributes=e,this.metadata=r}var n=t.prototype;return n.linkMfaMethod=function(t,n){var e=this;return new Promise(function(r,i){try{return Promise.resolve(n.link(t.client).then(function(t){return r(e)}).catch(function(t){return i(t)})).then(function(){})}catch(t){return Promise.reject(t)}})},n.unlinkMfaMethod=function(t,n){var e=this;return new Promise(function(r,i){try{return Promise.resolve(n.unlink(t.client).then(function(t){return r(e)}).catch(function(t){return i(t)})).then(function(){})}catch(t){return Promise.reject(t)}})},t}();!function(t){t.EmailPassword="EmailPassword"}(e||(e={})),function(t){t.Totp="Totp"}(r||(r={}));var s=/*#__PURE__*/function(){function t(t,n,r){this.type=e.EmailPassword,this.mfa_code=void 0,this.email=void 0,this.password=void 0,this.email=t,this.password=n,this.mfa_code=r}var n=t.prototype;return n.setMfaCode=function(t){this.mfa_code=t},n.authenticate=function(t){var n=this;return new Promise(function(e,r){try{return Promise.resolve(t.client.post("/authenticate/"+n.type,{email:n.email,password:n.password,mfa_code:n.mfa_code}).then(function(t){return e(new c(t.data.user))}).catch(function(t){return r(t.response.data)})).then(function(){})}catch(t){return Promise.reject(t)}})},n.register=function(t){var n=this;return new Promise(function(e,r){try{return Promise.resolve(t.client.post("/register/"+n.type,{email:n.email,password:n.password}).then(function(t){return e(new c(t.data.user))}).catch(function(t){return r(t.response.data)})).then(function(){})}catch(t){return Promise.reject(t)}})},t}(),a=/*#__PURE__*/function(){function t(){this.type=r.Totp}var n=t.prototype;return n.link=function(t){var n=this;return new Promise(function(e,r){try{return Promise.resolve(t.client.post("/link/mfa",{mfa_method:n.type}).then(function(t){return e()}).catch(function(t){return r(t.response.data)})).then(function(){})}catch(t){return Promise.reject(t)}})},n.unlink=function(t){var n=this;return new Promise(function(e,r){try{return Promise.resolve(t.client.delete("/unlink/mfa",{data:{mfa_method:n.type}}).then(function(t){return e()}).catch(function(t){return r(t.response.data)})).then(function(){})}catch(t){return Promise.reject(t)}})},t}();export{n as ApiErrorCode,e as AuthMethodType,s as EmailPasswordMethod,r as MfaMethodType,a as TotpMethod,o as UnderslightAuth,c as User};
