function t(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var e=/*#__PURE__*/t(require("axios"));exports.ApiErrorCode=void 0,(exports.ApiErrorCode||(exports.ApiErrorCode={})).UserNotFound="USER_NOT_FOUND";var r=function(t){this.client=void 0,this.client=e.default.create({withCredentials:!0,baseURL:t.domain})},n=/*#__PURE__*/function(){function t(t){this.config=void 0,this.client=void 0,this.config=t,this.client=new r(this.config)}var e=t.prototype;return e.authenticate=function(t){return t.authenticate(this.client)},e.register=function(t){return t.register(this.client)},t}(),i=/*#__PURE__*/function(){function t(t){var e=t.id,r=t.attributes,n=t.metadata;this.id=void 0,this.attributes=void 0,this.metadata=void 0,this.id=e,this.attributes=r,this.metadata=n}var e=t.prototype;return e.linkMfaMethod=function(t,e){var r=this;return new Promise(function(n,i){try{return Promise.resolve(e.link(t.client).then(function(t){return n(r)}).catch(function(t){return i(t)})).then(function(){})}catch(t){return Promise.reject(t)}})},e.unlinkMfaMethod=function(t,e){var r=this;return new Promise(function(n,i){try{return Promise.resolve(e.unlink(t.client).then(function(t){return n(r)}).catch(function(t){return i(t)})).then(function(){})}catch(t){return Promise.reject(t)}})},t}();exports.AuthMethodType=void 0,(exports.AuthMethodType||(exports.AuthMethodType={})).EmailPassword="EmailPassword",exports.MfaMethodType=void 0,(exports.MfaMethodType||(exports.MfaMethodType={})).Totp="Totp";var o=/*#__PURE__*/function(){function t(t,e,r){this.type=exports.AuthMethodType.EmailPassword,this.mfa_code=void 0,this.email=void 0,this.password=void 0,this.email=t,this.password=e,this.mfa_code=r}var e=t.prototype;return e.setMfaCode=function(t){this.mfa_code=t},e.authenticate=function(t){var e=this;return new Promise(function(r,n){try{return Promise.resolve(t.client.post("/authenticate/"+e.type,{email:e.email,password:e.password,mfa_code:e.mfa_code}).then(function(t){return r(new i(t.data.user))}).catch(function(t){return n(t.response.data)})).then(function(){})}catch(t){return Promise.reject(t)}})},e.register=function(t){var e=this;return new Promise(function(r,n){try{return Promise.resolve(t.client.post("/register/"+e.type,{email:e.email,password:e.password}).then(function(t){return r(new i(t.data.user))}).catch(function(t){return n(t.response.data)})).then(function(){})}catch(t){return Promise.reject(t)}})},t}(),s=/*#__PURE__*/function(){function t(){this.type=exports.MfaMethodType.Totp}var e=t.prototype;return e.link=function(t){var e=this;return new Promise(function(r,n){try{return Promise.resolve(t.client.post("/link/mfa",{mfa_method:e.type}).then(function(t){return r()}).catch(function(t){return n(t.response.data)})).then(function(){})}catch(t){return Promise.reject(t)}})},e.unlink=function(t){var e=this;return new Promise(function(r,n){try{return Promise.resolve(t.client.delete("/unlink/mfa",{data:{mfa_method:e.type}}).then(function(t){return r()}).catch(function(t){return n(t.response.data)})).then(function(){})}catch(t){return Promise.reject(t)}})},t}();exports.EmailPasswordMethod=o,exports.TotpMethod=s,exports.UnderslightAuth=n,exports.User=i;
